(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);a(64),a(89);var n=a(0),s=a.n(n),o=a(31),l=a.n(o),i=a(7),c=a.n(i),r=a(55),d=a(56),p=a(61),h=a(57),u=a(62),m=a(1),k=(a(111),a(58)),b=a.n(k),f=function(e){return"https://vk.com/chtitaemknigi?w=wall-140026984_".concat(e)},g=function(e){var t=e.id,a=(e.go,e.fetchedUser),n=e.handleClick,o=(e.text,e.isShow),l=e.postId,i=e.isLoading;return s.a.createElement(m.Panel,{id:t},s.a.createElement(m.PanelHeader,null,"\u0427\u0438\u0442\u0430\u0435\u043c \u0432\u043c\u0435\u0441\u0442\u0435"),a&&s.a.createElement(m.Group,{title:"\u041e\u0442\u0432\u0435\u0442\u044b \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0434\u043b\u044f \u0412\u0430\u0441"},s.a.createElement(m.ListItem,{before:a.photo_200?s.a.createElement(m.Avatar,{src:a.photo_200}):null,description:a.city&&a.city.title?a.city.title:""},"".concat(a.first_name," ").concat(a.last_name)),s.a.createElement(m.Cell,{href:"https://vk.com/club140026984",target:"_blank",expandable:!0,before:s.a.createElement(b.a,null),description:"\u041d\u0430\u0448\u0430 \u0433\u0440\u0443\u043f\u043f\u0430 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"},"\u0427\u0438\u0442\u0430\u0435\u043c \u0432\u043c\u0435\u0441\u0442\u0435")),s.a.createElement(m.Group,null,s.a.createElement(m.Div,null,s.a.createElement(m.Button,{size:"xl",level:"2",onClick:n},"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u043d\u043e\u0432\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441")),!i&&o&&s.a.createElement(m.Cell,{href:f(l),target:"_blank",expandable:!0,description:"\u041e\u0442\u0432\u0435\u0442 \u043d\u0430 \u0412\u0430\u0448 \u0432\u043e\u043f\u0440\u043e\u0441 \u0433\u043e\u0442\u043e\u0432"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u0412\u0430\u0448 \u0432\u043e\u043f\u0440\u043e\u0441")))},A=a(59),v=a.n(A),w=(a(112),a(60)),E=a.n(w),_=a(32),C=a.n(_),S=Object(m.platform)(),I=function(e){return s.a.createElement(m.Panel,{id:e.id},s.a.createElement(m.PanelHeader,{left:s.a.createElement(m.HeaderButton,{onClick:e.go,"data-to":"home"},S===m.IOS?s.a.createElement(E.a,null):s.a.createElement(C.a,null))},"Persik"),s.a.createElement("img",{className:"Persik",src:v.a,alt:"Persik The Cat"}))},P=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).go=function(e){a.setState({activePanel:e.currentTarget.dataset.to})},a.state={activePanel:"home",fetchedUser:null,access_token:null,total:null,text:null,isShow:!1,postId:null,isLoading:!1,handleClickBind:a.handleClickBind},a}return Object(u.a)(t,e),Object(d.a)(t,[{key:"handleClickBind",value:function(e,t){this.setState({isShow:!0}),c.a.send("VKWebAppCallAPIMethod",{method:"wall.get",params:{owner_id:"-140026984",v:"5.92",offset:t,count:1,access_token:this.state.access_token}})}},{key:"handleClick",value:function(e,t){this.state.access_token?(this.setState({isShow:!0}),this.setState({isLoading:!0}),c.a.send("VKWebAppCallAPIMethod",{method:"wall.get",params:{owner_id:"-140026984",v:"5.92",offset:t,count:1,access_token:this.state.access_token}}),this.setState({isLoading:!0})):c.a.send("VKWebAppGetAuthToken",{app_id:6926844,scope:""})}},{key:"handleClickStart",value:function(e){c.a.send("VKWebAppCallAPIMethod",{method:"wall.get",params:{owner_id:"-140026984",v:"5.92",access_token:this.state.access_token}})}},{key:"componentDidMount",value:function(){var e=this;c.a.subscribe(function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data});break;case"VKWebAppAccessTokenReceived":var a=t.detail.data.access_token;console.log("VKWebAppAccessTokenReceived",a),e.setState({access_token:a}),e.handleClickStart(a);break;case"VKWebAppAccessTokenFailed":console.log("VKWebAppAccessTokenFailed",t.detail.data);break;case"VKWebAppCallAPIMethodResult":var n=t.detail.data;if(console.log("VKWebAppCallAPIMethodResult",n),e.setState({total:n.response.count}),n&&n.response&&n.response.items&&n.response.items.length>0)for(var s=n.response.items.length,o=0;o<s;o++){console.log("TRY123",s,n.response.items[o]);var l=n.response.items[o].text;if(l>=40&&l<=450){e.setState({text:n.response.items[o].text}),e.setState({postId:n.response.items[o].id}),e.state.isShow&&e.setState({isLoading:!1});break}}break;case"VKWebAppCallAPIMethodFailed":console.log("VKWebAppCallAPIMethodFailed",t.detail.data);break;default:console.log(t.detail.type)}}),c.a.send("VKWebAppGetUserInfo",{}),c.a.send("VKWebAppGetAuthToken",{app_id:6926844,scope:""})}},{key:"getRandomArbitrary",value:function(){var e=this.state.total;return Math.floor(Math.random()*(e-0))+0}},{key:"render",value:function(){var e=this;return console.log("STATE6",this.state),s.a.createElement(m.View,{activePanel:this.state.activePanel},s.a.createElement(g,{id:"home",fetchedUser:this.state.fetchedUser,go:this.go,handleClick:function(){var t=e.getRandomArbitrary();console.log("getRandomArbitrary",t),e.handleClick(e.state.access_token,t)},isLoading:this.state.isLoading,text:this.state.text,postId:this.state.postId,isShow:this.state.isShow}),s.a.createElement(I,{id:"persik",go:this.go}))}}]),t}(s.a.Component);c.a.send("VKWebAppInit",{}),l.a.render(s.a.createElement(P,null),document.getElementById("root"))},59:function(e,t,a){e.exports=a.p+"static/media/persik.4e1ec840.png"},63:function(e,t,a){e.exports=a(113)}},[[63,1,2]]]);
//# sourceMappingURL=main.853e0c34.chunk.js.map